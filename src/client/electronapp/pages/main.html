<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>ChatCLI</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- Single flex container for sidebar + chat area -->
  <div id="container">
    <!-- Sidebar -->
    <div id="sidebar">
      <div id="ws-banner" class="info-message" style="display:none"></div>
      <div id="user-info" title="Your username"></div>
      <div id="new-chat" class="input-with-icon">
        <input id="new-chat-username" placeholder="Add friend by username" />
        <span class="add-icon" id="create-chat-btn" title="Add">+</span>
      </div>    
      <ul id="chat-list"></ul>
      <button id="logout-btn" type="button">Logout</button>
    </div>

    <!-- Chat window -->
    <div id="chat-window">
      <div id="messages">
        <div id="no-chat-selected" class="placeholder">
          <h2>Welcome to ChatCLI</h2>
          <p>Select a conversation to start chatting</p>
        </div>  
      </div>

      <div id="typing-indicator" style="display:none; font-style:italic; margin: 5px;"></div>

      <div id="message-input" class="chat-controls hidden">
        <textarea id="message-text" placeholder="Type a message…" rows="1"></textarea>
        <button id="send-btn" type="button" data-requires-online title="Send">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
            <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/>
          </svg>
        </button>
      </div>
    </div>

  </div>

  <!-- Toast container -->
  <div id="toast-container"></div>

  <!-- Modal container -->
  <div id="modal-container" class="modal hidden">
    <div class="modal-content">
      <p id="modal-message">Are you sure you want to delete this chat?</p>
      <div class="modal-actions">
        <button id="modal-confirm-btn" class="modal-btn">Yes</button>
        <button id="modal-cancel-btn" class="modal-btn">No</button>
      </div>
    </div>
  </div>
  <!-- ★ Profile Modal (add just above your <script> tag) -->
  <div id="profile-modal" class="modal hidden">
    <div class="modal-content">
      <h2>Edit Profile</h2>
      <form id="profile-form">
        <label for="edit-username">Username</label>
        <input type="text" id="username" name="username" required />

        <label for="edit-email">Email address</label>
        <input type="email" id="email" name="email" required />

        <div class="modal-actions">
          <button type="submit" class="modal-btn">Save changes</button>
          <button type="button" id="disable-account-btn" class="modal-btn secondary">Disable account</button>
          <button type="button" id="delete-account-btn" class="modal-btn danger">Delete account</button>
        </div>

        <div class="links">
          <a href="reset-password-request.html">Reset password</a>
        </div>
      </form>
      <button id="close-profile-modal" class="modal-close" title="Close">&times;</button>
    </div>
  </div>

  <script src="main.renderer.js"></script>
</body>
</html>
